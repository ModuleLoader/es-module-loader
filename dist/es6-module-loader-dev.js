/*
 *  es6-module-loader v1.0.0-alpha
 *  https://github.com/ModuleLoader/es6-module-loader
 *  Copyright (c) 2015 Guy Bedford, Luke Hoban, Addy Osmani; Licensed MIT
 */

!function(a){function b(){this._loader={loaderObj:this,resolve:void 0,fetch:void 0,translate:void 0,instantiate:void 0,registry:{}}}function c(a,b,c){return a.registry[b]||(a.registry[b]={key:b,state:L,metadata:c||{},fetch:void 0,translate:void 0,instantiate:void 0,fetchResolve:void 0,translateResolve:void 0,instantiateResolve:void 0,dependencies:void 0,module:void 0,declare:void 0,error:null})}function d(a,b,c){b.fetchResolve?b.fetchResolve(c):b.fetch=I.resolve(c),b.fetchResolve=void 0,b.state=Math.max(b.state,M)}function e(a,b,c){b.translateResolve?b.translateResolve(c):b.translate=I.resolve(c),b.translateResolve=void 0,b.state=Math.max(b.state,N)}function f(a,b,c,d){if(void 0===c)var e=x(a.loaderObj,b.key,d,b.metadata);else if("function"!=typeof c)throw new TypeError("Instantiate must return an execution function.");b.instantiateResolve?b.instantiateResolve(c):b.instantiate=I.resolve(c),b.instantiateResolve=void 0;var f=[];if(void 0===c){b.declare=e.declare;for(var g=0;g<e.deps.length;g++)f.push({key:e.deps[g],value:void 0})}b.dependencies=f,b.module=c,b.state=Math.max(b.state,O)}function g(a,b,c,d){return I.resolve(void 0===c&&w(a.loaderObj)).then(function(){f(a,b,c,d)})}function h(a,b,e,f){return f=f||c(a,b,e),f.error?I.reject(f.error):f.state===Q?I.reject(new Error(b+" cannot be fetched as it is already linked.")):f.fetch?f.fetch:(I.resolve().then(function(){return a.fetch.call(a.loaderObj,b,f.metadata)}).then(function(b){d(a,f,b)},function(a){throw p(a,"Fetching "+b)})["catch"](function(a){f.error=f.error||a}).then(function(){f.error&&f.fetchResolve&&f.fetchResolve(I.reject(f.error))}),f.fetch=new I(function(a){f.fetchResolve=a}))}function i(a,b,d,f){return f=f||c(a,b,d),f.error?I.reject(f.error):f.state===Q?I.reject(new Error(b+" cannot initiate translate as it is already linked.")):f.translate?f.translate:(h(a,b,null,f).then(function(c){return I.resolve().then(function(){return a.translate.call(a.loaderObj,b,c,f.metadata)}).then(function(b){e(a,f,b)},function(a){throw p(a,"Translating "+b)})})["catch"](function(a){f.error=f.error||a}).then(function(){f.error&&f.translateResolve&&f.translateResolve(I.reject(f.error))}),f.translate=new I(function(a){f.translateResolve=a}))}function j(a,b,d,e){return e=e||c(a,b,d),e.error?I.reject(e.error):e.state===Q?I.reject(new Error(b+" cannot instantiate as it is already linked.")):e.instantiate?e.instantiate:(i(a,b,null,e).then(function(c){return I.resolve().then(function(){return a.instantiate.call(a.loaderObj,b,c,e.metadata)}).then(function(b){return g(a,e,b,c)},function(a){throw p(a,"Instantiating "+b)})})["catch"](function(a){e.error=e.error||a}).then(function(){e.error&&e.instantiateResolve&&e.instantiateResolve(I.reject(e.error))}),e.instantiate=new I(function(a){e.instantiateResolve=a}))}function k(a,b,d,e){return e=e||c(a,b,d),e.state>O?e:j(a,b,null,e).then(function(){e.state=Math.max(e.state,P);for(var d=[],f=0;f<e.dependencies.length;f++)(function(e){var f={};d.push(I.resolve(a.resolve.call(a.loaderObj,e.key,b,f)).then(function(b){var d=c(a,b,f);return e.value=d,k(a,b,null,d)}))})(e.dependencies[f]);return I.all(d)["catch"](function(a){throw a=p(a,"Loading "+b),e.error=e.error||a,a})})}function l(a,b,d,e){return e=e||c(a,b,d),e.error?I.reject(e.error):e.state===Q?I.resolve(e):k(a,b,d,e).then(function(){var a=[];n(e,a);for(var b=0;b<a.length;b++){var c=a[b];c.state==P&&"function"==typeof c.module&&(o(c),c.state=Q)}return e.state==P&&r(e),e})["catch"](function(a){throw e.error=a,a})}function m(a,b,d,e){return e=e||c(a,b,d),l(a,b,d,e).then(function(a){var c=a.module;if(c instanceof q)return c;var d=s(c,[]);if(d)throw d=p(d,"Error evaluating "+b),a.error=d,d;return c.module},function(a){throw e.error=e.error||a,a})}function n(a,b){if(-1==J.call(b,a)){b.push(a);for(var c=0;c<a.dependencies.length;c++)n(a.dependencies[c].value,b)}}function o(a){if(a.error)throw a.error;try{a.module=a.module()}catch(b){throw a.error=b,b}}function p(a,b){var c;if(a instanceof Error){var c=new a.constructor(a.message,a.fileName,a.lineNumber);c.message=a.message+"\n  "+b,c.stack=a.stack}else c=a+"\n  "+b;return c}function q(a){for(var b in a)this[b]=a[b]}function r(b){var c=b.module=u(b.key),d=c.module,e=b.declare.call(a,function(a,b){c.locked=!0,d[a]=b;for(var e=0;e<c.importers.length;e++){var f=c.importers[e];if(!f.locked){var g=J.call(f.dependencies,c);f.setters[g](d)}}return c.locked=!1,b});c.setters=e.setters,c.execute=e.execute;for(var f=0;f<b.dependencies.length;f++){var g=b.dependencies[f].value;g.module||r(g);var h=g.module;h instanceof q?c.dependencies.push(null):(c.dependencies.push(h),h.importers.push(c)),c.setters[f]&&c.setters[f](h.module)}b.state=Q}function s(a,b){if(-1==J.call(b,a)){if(a.error)return a.error;b.push(a);for(var c,d=a.dependencies,e=0;e<d.length;e++){var f=d[e];if(f&&(c=s(d[e],b)))return a.error=p(c,"Error evaluating "+f.key),a.error}return c=t(a),c&&(a.error=c),c}}function t(a){try{a.execute.call({})}catch(b){return b}}function u(a){return S[a]||(S[a]={key:a,dependencies:[],module:new q({}),importers:[],locked:!1,error:null})}function v(b){try{a.traceur?b.install("traceur",new q({"default":a.traceur})):a.babel&&b.install("babel",new q({"default":a.babel}))}catch(c){}}function w(a){X&&(v(a),X=!1);var b=a.transpiler;if(b!==T||!U)return T=b,U=V=null,a["import"](b).then(function(a){U=a["default"]})}function x(a,b,c,d){return C(b,(U.Compiler?z:B)(U,b,c,d))}function y(b,c){var d=this;return I.resolve(T===d.transpiler&&V||d.resolve(T=d.transpiler)).then(function(e){return V=e,V===b?function(){var e=a.System,f=a.Reflect.Loader;return D(b,"~function(require,exports,module){"+c+"}()"),a.System=e,a.Reflect.Loader=f,new q({"default":a[d.transpiler]})}:void 0})}function z(a,b,c,d){var e=this.traceurOptions||{};e.modules="instantiate",e.script=!1,e.sourceMaps="inline",e.inputSourceMap=d.sourceMap,e.filename=b,e.inputSourceMap=d.sourceMap,e.moduleName=!1;var f=new a.Compiler(e),c=A(c,f,e.filename);return c+"!eval"}function A(a,b,c){try{return b.compile(a,c)}catch(d){throw d[0]||d}}function B(a,b,c){var d=this.babelOptions||{};d.modules="system",d.sourceMap="inline",d.filename=b,d.code=!0,d.ast=!1,d.blacklist||(d.blacklist=["react"]);var c=a.transform(c,d).code;return c+"\n//# sourceURL="+b+"!eval"}function C(b,c){var d,e=a.System=a.System||aa,f=e.register;return e.register=function(a,b){d={deps:a,declare:b}},D(b,'var __moduleURL = "'+b+'";'+c,{}),e.register=f,d}function D(a,b,c){try{new Function(b).call(c)}catch(d){throw("SyntaxError"==d.name||"TypeError"==d.name)&&(d.message="Evaluating "+a+"\n	"+d.message),d}}function E(a,b){if("string"!=typeof a)throw new TypeError("URL must be a string");var c=String(a).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);if(!c)throw new RangeError;var d=c[1]||"",e=c[2]||"",f=c[3]||"",g=c[4]||"",h=c[5]||"",i=c[6]||"",j=c[7]||"",k=c[8]||"",l=c[9]||"";if(void 0!==b){var m=b instanceof E?b:new E(b),n=""===d&&""===g&&""===e;n&&""===j&&""===k&&(k=m.search),n&&"/"!==j.charAt(0)&&(j=""!==j?(""===m.host&&""===m.username||""!==m.pathname?"":"/")+m.pathname.slice(0,m.pathname.lastIndexOf("/")+1)+j:m.pathname);var o=[];j.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(a){"/.."===a?o.pop():o.push(a)}),j=o.join("").replace(/^\//,"/"===j.charAt(0)?"/":""),n&&(i=m.port,h=m.hostname,g=m.host,f=m.password,e=m.username),""===d&&(d=m.protocol)}this.origin=d+(""!==d||""!==g?"//":"")+g,this.href=d+(""!==d||""!==g?"//":"")+(""!==e?e+(""!==f?":"+f:"")+"@":"")+g+j+k+l,this.protocol=d,this.username=e,this.password=f,this.host=g,this.hostname=h,this.port=i,this.pathname=j,this.search=k,this.hash=l,"file"==this.protocol&&(this.pathname=this.pathname.replace(/\\/g,"/"))}function F(){}function G(){document.removeEventListener("DOMContentLoaded",G,!1),window.removeEventListener("load",G,!1),H()}function H(){for(var a=document.getElementsByTagName("script"),b=0,c=0;c<a.length;c++){var d=a[c];if("module"==d.type){var e=d.src;e?aa.load(e,"ready"):(aa.provide("anon"+ ++b,"fetch",d.innerHTML.substr(1)),aa.load("anon"+b,"ready"))}}}var I=a.Promise||require("when/es6-shim/Promise"),J=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},K="object"==typeof exports&&"function"==typeof require,L=0,M=1,N=2,O=3,P=4,Q=5;b.prototype["import"]=function(a,b){var c=this._loader,d={};return I.resolve().then(function(){return c.resolve.call(c.loaderObj,a,b,d)})["catch"](function(c){throw p(c,"Resolving "+a+(b?", "+b:""))}).then(function(a){return m(c,a,d)})},b.prototype.resolve=function(a,b,c){var d=this._loader;return d.resolve.call(d.loaderObj,a,b,c||{})},b.prototype.load=function(a,b,c){var d=this._loader;if("fetch"==b)return h(d,a,c);if("translate"==b)return i(d,a,c);if("instantiate"==b)return k(d,a,c).then(function(a){return a.module instanceof q?void 0:a.module});if("link"==b)return l(d,a,c).then(function(){});if(b&&"ready"!=b)throw new TypeError("Invalid stage "+b);return m(d,a,c).then(function(a){return a.module})},b.prototype.provide=function(a,b,f,h){var i=this._loader,j=c(i,a,h);if("fetch"==b){if(j.state>L)throw new TypeError(a+" has already been fetched.");d(i,j,f)}else if("translate"==b){if(j.state>M)throw new TypeError(a+" has already been translated.");e(i,j,f)}else{if("instantiate"!=b)throw new TypeError("Invalid stage "+b);if(j.state>N)throw new TypeError(a+" has already been instantiated.");d(i,j,void 0),e(i,j,void 0),j.translate.then(function(a){g(i,j,f,a)})}},b.prototype.error=function(){},b.prototype.lookup=function(a){var b=this._loader,c=b.registry[a];if(!c)return null;var d;return c.state==L?d="fetch":c.state==M?d="translate":c.state==N?d="instantiate":c.state==P?d="link":c.state==Q&&(d="ready"),{state:d,metadata:c.metadata,fetch:c.fetch&&I.resolve(c.fetch),translate:c.translate&&I.resolve(c.translate),instantiate:c.instantiate&&I.resolve(c.instantiate),module:c.state==Q&&(c.module instanceof q?c.module:c.module.module),error:c.error}},b.prototype.install=function(a,b){var c=this._loader;if(c.registry[a])throw new TypeError(a+" is already defined in the Loader registry.");if(!(b instanceof q))throw new TypeError("Install must provide a valid Module object.");c.registry[a]={key:a,state:Q,metadata:metadata,fetch:void 0,translate:void 0,instantiate:void 0,dependencies:void 0,module:b,declare:void 0,error:null}},b.prototype.uninstall=function(a){var b=this._loader,c=b.registry[a];if(!c)throw new TypeError(a+" is not defined in the Loader registry.");if(c.state<P)throw new TypeError(a+" is still loading.");delete b.registry[a]},b.prototype.cancel=function(a){var b=this._loader,c=b.registry[a];if(!c)throw new TypeError(a+" does not exist.");if(c.state>=P)throw new TypeError(a+" is already past linking.");delete b.registry[a]};var R=["resolve","fetch","translate","instantiate"];b.prototype.hook=function(a,b){var c=this._loader;if(-1==J.call(R,a))throw new TypeError(a+" is not a valid hook.");return b?void(c[a]=b):c[a]};var S={};b.prototype.transpiler="traceur";var T,U,V,W,X=!0,Y="undefined"!=typeof process&&!!process.platform.match(/^win/);if("undefined"!=typeof XMLHttpRequest)W=function(a,b,c){function d(){b(f.responseText)}function e(){c(new Error("GET "+a+" "+f.status+" ("+f.statusText+")"))}var f=new XMLHttpRequest,g=!0,h=!1;if(!("withCredentials"in f)){var i=/^(\w+:)?\/\/([^\/]+)/.exec(a);i&&(g=i[2]===window.location.host,i[1]&&(g&=i[1]===window.location.protocol))}g||"undefined"==typeof XDomainRequest||(f=new XDomainRequest,f.onload=d,f.onerror=e,f.ontimeout=e,f.onprogress=function(){},f.timeout=0,h=!0),f.onreadystatechange=function(){4===f.readyState&&(200===f.status||0==f.status&&f.responseText?d():e())},f.open("GET",a,!0),h&&setTimeout(function(){f.send()},0),f.send(null)};else{if(!K)throw new TypeError("No environment fetch API available.");var Z;W=function(a,b,c){if("file:///"!=a.substr(0,8))throw"Only file URLs of the form file: allowed running in Node.";Z=Z||require("fs"),a=Y?a.replace(/\//g,"\\").substr(8):a.substr(7),Z.readFile(a,function(a,d){a?c(a):b(d+"")})}}var $=function(){function a(a){for(var b in c){var d="*"===b.charAt(b.length-1);if(d){if(a.substr(0,b.length-1)===b.substr(0,b.length-1))return c[b].replace("*",a.substr(b.length-1,a.length-b.length+1))}else if(a===b)return c[b]}}b.call(this,arguments);var c={};this.site=function(a){for(var b in a)c[b]=a[b]},this.site.get=function(a){return c[a]},this.site.set=function(a,b){c[a]=b},this.site.has=function(a){return!!c[a]},this.site["delete"]=function(a){delete c[a]},this.hook("resolve",function(b,c){var d=a(b);return(d||!c)&&(c=_),new E(d||b,c).href}),this.hook("fetch",function(a){return new I(function(b,c){W(a,b,c)})}),this.hook("translate",function(a,b){return b}),this.hook("instantiate",y)};F.prototype=b.prototype,$.prototype=new F;var _;"undefined"!=typeof document&&document.baseURI?_=document.baseURI:"undefined"!=typeof location&&location.href?_=location.href:"undefined"!=typeof document&&document.getElementsByTagName&&(_=document.getElementsByTagName("base")[0],_=_&&_.href),_?(_=_.split("#")[0].split("?")[0],_=_.substr(0,_.lastIndexOf("/")+1)):"undefined"!=typeof process&&process.cwd&&(_="file://"+(Y?"/":"")+process.cwd()+"/",Y&&(_=_.replace(/\\/g,"/"))),_=new E(_);var aa=new $;if(aa.constructor=$,"undefined"!=typeof document&&document.getElementsByTagName){var ba=document.getElementsByTagName("script");ba=ba[ba.length-1],"complete"===document.readyState?setTimeout(H):document.addEventListener&&(document.addEventListener("DOMContentLoaded",G,!1),window.addEventListener("load",G,!1)),ba&&ba.getAttribute("data-init")&&window[ba.getAttribute("data-init")]()}var ca;!function(c){ca=c.Reflect||{},ca.Loader=ca.Loader||b,ca.Module=ca.Module||q,ca.global=ca.global||a,c.LoaderPolyfill=b,c.ModulePolyfill=q,c.Reflect=ca,c.System=aa}(K?exports:a)}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:global);
//# sourceMappingURL=es6-module-loader-dev.js.map